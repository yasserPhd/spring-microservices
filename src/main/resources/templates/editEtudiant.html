<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8"/>
<title>Saisie des Ã©tudiants</title>
<link rel="stylesheet" type="text/css" href="../static/css/bootstrap.min.css" 
 th:href="@{/css/bootstrap.min.css}"/>
 <link rel="stylesheet" type="text/css" href="../static/css/style.css" 
 th:href="@{/css/style.css}"/>
 <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
<script>
 $("document").ready(function(){

        
	 $("#photoId").change(function() {
		 alert($("#photoId").val());
		 //var fileNameIndex = $("#photoId").val().lastIndexOf("/") + 1;
		 var filename = $("#photoId").val().split('\\').pop();
		 $("#photo").val(filename);
		 alert(filename);
 		/* var tmppath = $("#photoFile").val() ;
         alert($("#photoFile").val());
         $("#photo").val(tmppath); */
        // $("#photo").attr('src',tmppath);
         //$("photo").text(tmppath);
         //$("#photo").text("yasser");
     });
 });
 </script>
</head>
<body>
	
	<div class="col-md-6 col-sm-6  col-xs-12 spacer col-md-offset-3">
		<div class="panel panel-default">
		<div class="panel-heading">Saisie d'un athlete</div>
		<div class="panel-body">
			<form th:action="@{UpdateAthlete}" method="post" th:object="${athlete}" enctype="multipart/form-data">
					
					<div class="form-group">
						<label class="control-label">ID:</label> 
						<input type="text" th:field="*{id}" class="form-control"/>
						<span class="text-danger" th:errors="*{id}"></span>
					</div>
					<div class="form-group">
						<label class="control-label">Nom:</label> 
						<input type="text" th:field="*{nom}" class="form-control"/>
						<span class="text-danger" th:errors="*{nom}"></span>
					</div>
					<div class="form-group">
						<label class="control-label">Date de naissance:</label> 
						<input type="date" th:field="*{date_naissance}" class="form-control"/>
						<span class="text-danger" th:errors="*{date_naissance}"></span>
					</div>
					<div class="form-group">
						<label class="control-label">Email:</label> 
						<input type="text" th:field="*{email}" class="form-control"/>
						<span class="text-danger" th:errors="*{email}"></span>
					</div>
					<!-- <div class="form-group">
					<label class="control-label">   Start Date: </label>
				 <input type="date" id="dateTime" th:field="*{date_debut}" class="form-control" /> 
                 <span class="text-danger" th:errors="*{date_debut}"></span>
                 </div>
                 <div class="form-group">
                        <label class="control-label">    End Date: </label>
                        <input type="date" id="dateTime" th:field="*{date_fin}" class="form-control" />   
					<span class="text-danger" th:errors="*{date_fin}"></span>
					 </div> -->
					  <!-- <div class="form-group">
					 <input type="hidden" id="photo" name="photo" th:field= "*{photo}" class="form-control"/>
					 <span class="text-danger" th:errors="*{photo}"></span>
					 </div> -->
					  <div class="form-group">
						<label class="control-label"> Photo:</label>
						<!-- class="form-control" --> 
						<input type="file" id="photoId"  name="picture"   accept="image/x-png,image/gif,image/jpeg" class="form-control"/>
						 <span class="text-danger" th:errors="*{photo}"></span> 
					</div> 
					<!-- <div > <input type="text" id="photo" name="photo" th:field= "*{photo}" value =" "  /> </div>  -->
					<div>
						<button type="submit" id="sub" class="btn btn-primary">Save</button>
					</div>
					<div>
						<img class="img-circle" th:src="@{'/images/'+${athlete.photo}}" width="100" height="100"/>
					</div>
					
				</form>
		</div>
	</div>
	</div>
	
</body>
</html>